<!--pages/cart/cart.wxml-->
<view class="page-container">
  <view wx:if="{{cart.length === 0}}" class="empty-cart-container">
    <text>购物车是空的，快去逛逛吧！</text>
  </view>

  <view wx:else class="cart-list">
    <view class="cart-item" wx:for="{{cart}}" wx:key="id">
      <view class="item-info">
        <view class="item-name">{{item.name}}</view>
        <view class="item-price">¥{{item.retail_price}} / {{item.unit}}</view>
      </view>
      <view class="item-controls">
        <button class="control-btn" bindtap="changeQuantity" data-id="{{item.id}}" data-delta="{{-1}}">-</button>
        <text class="item-quantity">{{item.quantity}}</text>
        <button class="control-btn" bindtap="changeQuantity" data-id="{{item.id}}" data-delta="{{1}}">+</button>
        <button class="remove-btn" bindtap="removeItem" data-id="{{item.id}}">移除</button>
      </view>
    </view>
  </view>

  <view class="summary-container">
    <view class="total-price">总计: ¥{{totalPrice}}</view>
    <button class="submit-btn" bindtap="submitOrder">立即下单</button>
  </view>
</view>
